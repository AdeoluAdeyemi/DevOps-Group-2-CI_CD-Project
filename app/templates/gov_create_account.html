{% extends "base.html" %}

{%- from 'govuk_frontend_jinja/components/back-link/macro.html' import govukBackLink -%}
{%- from 'govuk_frontend_jinja/components/error-summary/macro.html' import govukErrorSummary -%}

{% block pageTitle %}{% if form.errors %}Error: {% endif %}Create an account â€“ GOV.UK Frontend WTForms Demo{% endblock %}

{% block beforeContent %}
  {{ govukBackLink({
    'text': "Back",
    'href': url_for('index')
  }) }}
{% endblock %}

{% block content %}
{% if form.errors %}
    {{ govukErrorSummary(wtforms_errors(form)) }}
{% endif %}

<h1 class="govuk-heading-l">Create an account</h1>
<div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
        <form action="" method="post" novalidate>
            {{form.csrf_token}}
            {{form.first_name(params={'spellcheck': false, 'autocomplete': 'given-name'})}}
            {{form.last_name(params={'spellcheck': false, 'autocomplete': 'family-name'})}}
            {{form.national_insurance_number(params={'classes': 'govuk-input--width-10', 'hint': {'text': form.national_insurance_number.description}, 'spellcheck': false})}}
            {{form.email_address(params={'hint': {'text': form.email_address.description}, 'type': 'email', 'spellcheck': false, 'autocomplete': 'email'})}}
            {{form.telephone_number(params={'classes': 'govuk-input--width-20', 'type': 'tel', 'spellcheck': false, 'autocomplete': 'tel'})}}
            {{form.password(params={'hint': {'text': form.password.description}, 'spellcheck': false})}}
            {{form.confirm_password(params={'spellcheck': false})}}
            {{form.terms_and_conditions(params={'fieldset': {'legend': {'text': 'Terms and conditions'}}})}}
            {{form.submit}}
        </form>
    </div>
</div>
{% endblock %}